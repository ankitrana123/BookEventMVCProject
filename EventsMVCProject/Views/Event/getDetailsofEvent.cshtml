@model EventsMVCProject.ViewModels.EventViewModel

@{
    ViewBag.Title = "getDetailsofEvent";
}

<h2>Details of Event</h2>

<div>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.HiddenFor(model => model.EventId)
        </dt>

        <dd>
            @Html.HiddenFor(model => model.EventId)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Title)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Title)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.StartTime)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.StartTime)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.EventDate)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.EventDate)
        </dd>

        @if (Model.DurationInHours != null)
        {
            <dt>
                @Html.DisplayNameFor(model => model.DurationInHours)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.DurationInHours)
            </dd>
        }
        @if (Model.Description != null)
        {
            <dt>
                @Html.DisplayNameFor(model => model.Description)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Description)
            </dd>
        }
        @if (Model.OtherDetails != null)
        {
            <dt>
                @Html.DisplayNameFor(model => model.OtherDetails)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.OtherDetails)
            </dd>
        }

        <dt>
            @Html.DisplayNameFor(model => model.InviteByEmail)
        </dt>

        @{
            int numberOfEmails = 0;
            if (Model.InviteByEmail != null)
            {
                numberOfEmails = Model.InviteByEmail.Split(',').Count();
            }
        }
        <dd>
            @numberOfEmails
        </dd>


    </dl>
</div>
<div>
    <h4>Comments - </h4>
    <table class="table">

        @if (Model.commentViewModels.Any())
        {

            foreach (var comment in Model.commentViewModels)
            {
                <tr>
                    <td>
                        @comment.Comments

                    </td>
                    <td>
                        @comment.CreateDate

                    </td>
                </tr>

            }
        }
        else
        {
            <h5>No Comments </h5>
        }
    </table>

</div>
<h3>Post your comments below</h3>
<div class="jumbotron">
    @Html.Partial("~/Views/Event/_CreateComment.cshtml", new EventsMVCProject.ViewModels.CommentViewModel() { EventId = Model.EventId })
</div>


